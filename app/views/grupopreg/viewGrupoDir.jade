div(ng-repeat="contenido in grupoking.contenidos_traducidos | porIdioma:idiomaactualselec" ng-class-odd="'fondo-gris-odd'")
	div(ng-show="!grupoking.editando")
		md-whiteframe.md-whiteframe-z2.definicion-frame(layout layout-wrap style="padding: 10px")

			span(flex="5" style="font-weight: bold") {{ $parent.$parent.$index+1}}.
			span(ng-bind-html="contenido.definicion" flex="95")



			div.btn-container-edit(layout="row")
				

				md-button.md-fab.md-primary.md-mini(aria-label="Editar" ng-click="editarGrupo(grupoking)")
					md-icon.fa.fa-pencil
					md-tooltip Editar contenido


				md-menu(style="padding:0; " )
					md-button.md-icon-button(aria-label="Opciones del contenido" ng-click="$mdOpenMenu($event)")
						md-icon.fa.fa-align-justify(md-menu-origin)

					md-menu-content
						md-menu-item
							md-button(ng-click="eliminarContenido(grupoking)")
								md-icon.fa.fa-trash(md-menu-align-target)
								| Eliminar contenido


						md-menu-item
							md-button(ng-click="asignarAEvaluacion(grupoking)")
								md-icon.fa.fa-clipboard()
								| Asignar a Evaluaci√≥n

						md-menu-divider
						md-menu-item
							md-button(ng-click="asignarExamen()")
								md-icon.fa.fa-eye()
								| notifications

				md-button.md-fab.md-success.md-mini(ng-click="addNewPregunta(contenido)" aria-label="Nueva pregunta"  ng-disabled="creando")
					md-icon.fa.fa-plus
					md-tooltip Nueva pregunta


			div(ng-repeat="pregunta_agrup in contenido.preguntas_agrupadas" flex="100")
				div(ng-show="!pregunta_agrup.editando")
					md-whiteframe.md-whiteframe-z2.definicion-frame(layout style="margin-left: 20px; padding: 10px")
						span(flex="5") {{$index+1}}.
						span(ng-bind-html="pregunta_agrup.enunciado" flex="95")

						div(ng-show="pregunta_agrup.ayuda && pregunta_agrup.showDetail" ng-click="toggleMostrarAyuda(pregunta_agrup)" ng-class="{'ayuda-preg-showed': pregunta_agrup.mostrar_ayuda, 'ayuda-preg-hidded':!pregunta_agrup.mostrar_ayuda}")
							a(ng-show="!pregunta_agrup.mostrar_ayuda")
								i.fa.fa-anchor
							span(ng-show="pregunta_agrup.mostrar_ayuda")
								| {{pregunta_agrup.ayuda}}



						
						div.btn-container-edit(layout="row")
							md-button.md-primary.md-icon-button.md-mini(ng-click="editarPreguntaAgrup(pregunta_agrup)")
								md-icon.fa.fa-pencil
								md-tooltip Editar

							md-button.md-warn.md-icon-button.md-mini(ng-click="eliminarPreguntaAgrup(pregunta_agrup, contenido)")
								md-icon.fa.fa-trash()
								md-tooltip Eliminar

							md-button.md-icon-button.md-mini(aria-label="Preview" ng-click="previewPreguntaAgrup(pregunta_agrup)")
								md-icon.fa.fa-eye
								md-tooltip Preview



					span(ng-show="pregunta_agrup.showDetail")
						md-list(ng-if="pregunta_agrup.tipo_pregunta=='Multiple'")
							md-list-item(ng-repeat="opcion in pregunta_agrup.opciones | filter:{id: '!-1'} ")
								md-checkbox(ng-model="topping.wanted")
								p {{ opcion.definicion }}
								md-icon.md-secondary.fa.fa-comment(ng-click="" aria-label="Chat")
						

						div.opciones(layout="row" layout-wrap layout-fill ng-if="pregunta_agrup.tipo_pregunta=='Test'" style="padding-bottom: 32px;")
							md-whiteframe.pointer.md-whiteframe-z2.btn(ng-class="{'elegida':opcion.elegida}" ng-if="!opcion.nueva" flex="40" ng-click="elegirOpcion(pregunta_agrup, opcion)" ng-repeat="opcion in pregunta_agrup.opciones") 
								span(style="font-weight: bold;") {{ indexChar($index) }}. 
								span {{ opcion.definicion }}


				edit-pregunta-agrupada(pregagrup="pregunta_agrup" ng-show="pregunta_agrup.editando")
		

	edit-contenido(grupoking="grupoking" ng-show="grupoking.editando" eventoactual="eventoactual" idiomaactualselec="idiomaactualselec")




